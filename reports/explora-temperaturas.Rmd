---
title: "Temperatura JP x CG"
output:
    html_document:
    df_print: paged
theme: sandstone
---

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(here)
library(lubridate)
library(ggbeeswarm)
theme_set(theme_minimal())
```

```{r read}
climas = read_csv(here::here("data/clima_cg_jp-semanal.csv"), 
                  col_types = "cTdddddd")
```

## Temperatura

### Onde é mais quente?

    Para conseguir obter a informação de qual a cidade mais quente, primeiramente, foi necessário selecionar as temperaturas máximas registradas em cada cidade. Os dados utilizados nessa amostragem foram coletados dentre os anos de 1987 e 2019.A partir da seleção das temperaturas máximas foi possível observar que Campina Grande registrou um pico de 34.5ºC, e em contra partida, João Pessoa registrou um pico de 32.5ºC.

```{r}
ggplot() +
geom_jitter(data = climas, aes(x =  cidade, y = tmax, color = cidade), width = .3)
```

~~ As temperaturas máximas semanais (o pico do calor) são tão diferentes quanto as médias? Mais?  


~~ Quais os meses mais quentes e mais frios? 


### Qual foi o São João  mais frio de CG que está nos nossos dados?

    Para responder essa pergunta, foi necessário filtrar as temperaturas registradas da cidade de Campina Grande durante o período de festas Juninas na cidade, que é entre 18 e 24 de Junho. A partir disso, foi desenvolvido um gráfico de linha para exibir as temperaturas registradas. A partir da representação do gráfico, é possível inferir que os São João dos anos de 1997 e 2018 foram os mais frios, com temperaturas de 16.6ºC.

```{r}
climas %>%
  filter(cidade == "Campina Grande" & mes == 6 & day(as.Date(semana)) >= 18 & day(as.Date(semana)) <=24) %>%
  ggplot(aes(ano,tmin)) + 
  geom_line() +
  geom_text(aes(label=tmin),size=4) +
  scale_x_continuous(breaks = seq(1990,2019,2)) +
  labs(x = "Ano", y = "Temperatura Mínima Registrada")
```

## Chuva

~~ Quanto chove por semana em JP e CG?~~


~~Como é a distribuição do volume de chuvas por semana em JP e CG? A chuva varia mais ou menos que a temperatura? O formato da distribuição é igual? ~~

### No geral, onde chove mais?
Para verificar a quantidade de chuva entre as cidades, foi feito um cálculo da mediana de todas as chuvas registradas. E a partir deste cálculo, foi possível verificar que na cidade de João Pessoa chove mais.

```{r}
climas %>%
    group_by(cidade, ano) %>%
    summarise(chuva_periodo = median(chuva)) %>%
    ggplot(aes(x = chuva_periodo, y = ano, colour= cidade)) + 
    geom_jitter()
    labs(x = "Ano", y = "Quantidade de Chuva (em mm)",colour = "Cidade")
```


### A distribuição é diferente em meses específicos? 

